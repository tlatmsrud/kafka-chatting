# Kafkaλ¥Ό ν™μ©ν• μ±„ν… μ–΄ν”λ¦¬μΌ€μ΄μ…

# 1. κ°λ°ν™κ²½ πƒ

- IDE : intelliJ
- Framework : Spring Boot 2.7.14
- JAVA : OPEN JDK 11
- Kafka : 2.13
- Zookeeper : Kafka λ‚΄μ¥
- SCM : Git
- DB : H2 1.4.200
- Build Tool : Gradle 7.5.1
- SSR : Thymeleaf

# 2. κµ¬ν„ κΈ°λ¥
- [x] μ‚¬μ©μλ§λ‹¤ λ‹‰λ„¤μ„μ„ μ…λ ¥λ°›μ•„ κ΄€λ¦¬ν•λΌ
- [x] μ±„ν…λ°©μ„ μƒμ„±ν•  μ μλ„λ΅ ν•λΌ
- [x] μΉ΄ν”„μΉ΄λ¥Ό ν™μ©ν•λΌ
- [x] Polling λ°©μ‹μΌλ΅ μ‹¤μ‹κ°„ μ±„ν… κΈ°λ¥μ„ κµ¬ν„ν•λΌ
- [x] WebSocket λ°©μ‹μΌλ΅ μ‹¤μ‹κ°„ μ±„ν… κΈ°λ¥μ„ κµ¬ν„ν•λΌ
- [ ] ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€λ¥Ό 80% μ΄μƒμΌλ΅ μ μ§€ν•λΌ

# 3. κµ¬ν„ μƒμ„Έ

## 3.1. μ‚¬μ©μλ§λ‹¤ λ‹‰λ„¤μ„μ„ μ…λ ¥λ°›μ•„ κ΄€λ¦¬ν•λΌ
<img src="https://github.com/tlatmsrud/kafka-chatting/assets/9374562/32083f68-d632-4320-8cc5-75972c4c27a1" width="80%" height="80%"/>

> λ©”μΈν™”λ©΄μ—μ„ μ‚¬μ©μκ°€ λ‹‰λ„¤μ„μ„ μ…λ ¥λ°›λ„λ΅ ν•©λ‹λ‹¤.
> λ‹‰λ„¤μ„μ΄ μ¤‘λ³µλ  κ²½μ° μ—λ¬ λ©”μ‹μ§€κ°€ μ¶λ ¥λ©λ‹λ‹¤.
> Polling λ°©μ‹ν™” WebSocket λ°©μ‹μ„ μ„ νƒν•  μ μλ„λ΅ ν•©λ‹λ‹¤. μ„ νƒμ— λ”°λΌ Viewκ°€ λ‹¬λΌμ§‘λ‹λ‹¤.

## 3.2. μ±„ν…λ°©μ„ μƒμ„±ν•  μ μλ„λ΅ ν•λΌ
<img src="https://github.com/tlatmsrud/kafka-chatting/assets/9374562/9d987164-3702-486f-9436-420dc263f289" width="80%" height="80%"/>

> μ‚¬μ©μκ°€ μƒμ„±ν•  μ±„ν…λ°© μ΄λ¦„μ„ μ…λ ¥ν•λ©΄ μ±„ν…λ°©μ΄ μƒμ„±λ©λ‹λ‹¤.

> λΉ„λ™κΈ° λ°©μ‹μΌλ΅ μ§„ν–‰λλ©° μƒμ„±λ μ±„ν…λ°©μ— λ€ν• μ •λ³΄λ” λ™μ μΌλ΅ μƒμ„±λμ–΄ λ¦¬μ¤νΈμ—… λ©λ‹λ‹¤.

## 3.3. μΉ΄ν”„μΉ΄λ¥Ό ν™μ©ν•λΌ

> λ΅μ»¬μ—μ„ Apache Zookeeperκ³Ό ν•¨κ» Kafka μ‚¬μ©ν•μ€μµλ‹λ‹¤. μΉ΄ν”„μΉ΄ λΈλ΅μ»¤λ” ν…μ¤νΈ λ©μ μ— λ§κ² ν•λ‚λ§ κµ¬μ„±ν•μ€μµλ‹λ‹¤.

## 3.4. Polling λ°©μ‹μΌλ΅ μ‹¤μ‹κ°„ μ±„ν… κΈ°λ¥μ„ κµ¬ν„ν•λΌ
<img src="https://github.com/tlatmsrud/kafka-chatting/assets/9374562/b1ae55b5-e9a2-469b-a7ee-e7f65f804acf" width="80%" height="80%"/>

> μ±„ν…λ°©μ— μ…μ¥ν•λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ 1μ΄λ§λ‹¤ DBμ— μ μ¬λ μ±„ν…λ‚΄μ—­μ„ λ¶λ¬μ¤κ³  ν™”λ©΄μ„ κ°±μ‹ ν•©λ‹λ‹¤.

> λ™μΌ μ±„ν…λ°©μ— μλ” λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈκ°€ μ±„ν…μ„ μ…λ ¥ν•λ©΄ μ„λ²„μ APIλ¥Ό νΈμ¶ν•κ³ , λ‚΄λ¶€ μ±„ν… DBμ— λ°μ΄ν„°λ¥Ό Insert ν•©λ‹λ‹¤.

> Web Socket λ°©μ‹κ³Όμ νΈν™μ„±μ„ μ„ν•΄ λ‚΄λ¶€μ μΌλ΅ Kafka Producerλ¥Ό μƒμ„±ν•μ—¬ Brokerμ— λ μ½”λ“λ¥Ό λ³΄λƒ…λ‹λ‹¤.

## 3.5. WebSocket λ°©μ‹μΌλ΅ μ‹¤μ‹κ°„ μ±„ν… κΈ°λ¥μ„ κµ¬ν„ν•λΌ



## 5. νκ³ 
> μ±„ν…μ€ μ‹¤μ‹κ°„ μ²λ¦¬κ°€ λ§¤μ° μ¤‘μ”ν•κ³ , λ‹¤μμ ν΄λΌμ΄μ–ΈνΈκ°€ μ΅΄μ¬ν•λ” μ„±μ§μ„ λ•λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ λ§μ•„μ§μλ΅ μ„λ²„μ— λ¬΄λ¦¬κ°€ κ°€κ³ , λ§μ€ HTTP μ¤λ²„ν—¤λ“κ°€ λ°μƒν•λ―€λ΅ Polling λ°©μ‹μ€ μ‹¤μ‹κ°„ μ±„ν…μ— μ ν•©ν•μ§€ μ•μµλ‹λ‹¤.


